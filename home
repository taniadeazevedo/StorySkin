<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="StorySkin - El recomendador de libros que se atreve a preguntarte quiÃ©n quieres ser hoy.">
    <title>StorySkin - Elige tu prÃ³xima piel literaria</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@900&display=swap" rel="stylesheet">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4853214655991551" crossorigin="anonymous"></script>
    
    <style>
        :root {
            --glass: rgba(255, 255, 255, 0.05);
            --glass-hover: rgba(255, 255, 255, 0.12);
            --border: rgba(255, 255, 255, 0.1);
            --bg-dark: #050507;
            --accent: #a855f7;
            --accent-light: #d8b4fe;
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(168, 85, 247, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(236, 72, 153, 0.1) 0%, transparent 40%);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container { max-width: 1400px; margin: 0 auto; padding: 2rem; }

        .header { text-align: center; padding: 5rem 0 3rem; }

        .hero-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3.5rem, 12vw, 8rem);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: -4px;
            line-height: 0.85;
            background: linear-gradient(to bottom, #fff 40%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 15px 30px rgba(168, 85, 247, 0.4));
            margin-bottom: 1rem;
        }

        .site-desc {
            max-width: 600px;
            margin: 0 auto 4rem;
            color: var(--text-secondary);
            font-size: 1.2rem;
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        .genre-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 3rem;
        }

        .genre-card {
            background: var(--glass);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            border-radius: 32px;
            padding: 4rem 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
        }

        .genre-card:hover {
            transform: translateY(-20px);
            background: var(--glass-hover);
            border-color: var(--accent);
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.6), 0 0 20px rgba(168, 85, 247, 0.2);
        }

        /* BOCADILLO DE CURIOSIDADES */
        .curiosity-bubble {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: #fff;
            color: #000;
            padding: 12px 20px;
            border-radius: 16px;
            font-size: 0.85rem;
            font-weight: 700;
            width: 240px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 50;
            box-shadow: 0 20px 40px rgba(0,0,0,0.8);
        }

        .genre-card:hover .curiosity-bubble {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .character-img {
            width: 220px;
            height: 280px;
            object-fit: contain;
            margin-bottom: 2rem;
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.6));
            transition: transform 0.6s ease;
        }

        .genre-card:hover .character-img {
            transform: scale(1.15) rotate(3deg);
        }

        .genre-name {
            font-size: 1.8rem;
            font-weight: 800;
            letter-spacing: -1px;
            text-transform: uppercase;
        }

        /* Quiz & Progress */
        .quiz-container { max-width: 900px; margin: 0 auto; display: none; padding: 4rem 0; }
        .progress-bar { width: 100%; height: 6px; background: rgba(255,255,255,0.05); border-radius: 10px; margin-bottom: 4rem; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--accent); transition: width 0.4s ease; box-shadow: 0 0 15px var(--accent); }
        
        .question-card {
            background: var(--glass);
            border: 1px solid var(--border);
            border-radius: 40px;
            padding: 5rem 3rem;
            text-align: center;
        }

        .question-text { font-size: 2.2rem; font-weight: 700; margin-bottom: 4rem; line-height: 1.2; letter-spacing: -1px; }
        
        .answers { display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center; }
        .answer-btn {
            flex: 1; min-width: 300px; padding: 2rem;
            background: rgba(255,255,255,0.03); border: 1px solid var(--border);
            border-radius: 24px; color: #fff; font-size: 1.3rem; font-weight: 600;
            cursor: pointer; transition: all 0.3s ease;
        }
        .answer-btn:hover { background: #fff; color: #000; transform: scale(1.05); }

        /* Results */
        .results-container { display: none; animation: fadeIn 1s ease; }
        .main-result { background: var(--glass); border: 1px solid var(--border); border-radius: 40px; padding: 4rem; display: flex; gap: 4rem; align-items: center; flex-wrap: wrap; margin-bottom: 4rem; }
        .book-cover { width: 220px; border-radius: 16px; box-shadow: 0 25px 50px rgba(0,0,0,0.8); }
        .amazon-btn { display: inline-block; padding: 1.5rem 3rem; background: #FF9900; color: #000; text-decoration: none; border-radius: 18px; font-weight: 800; margin-top: 2rem; text-transform: uppercase; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="hero-title">STORYSKIN</h1>
            <p class="site-desc">No buscamos libros aburridos. Buscamos tu prÃ³xima obsesiÃ³n. Elige un avatar y sobrevive al cuestionario.</p>
        </div>

        <div id="genreScreen" class="genre-grid"></div>

        <div id="quizScreen" class="quiz-container">
            <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
            <div class="question-card">
                <div class="question-text" id="questionText"></div>
                <div class="answers" id="answersContainer"></div>
            </div>
        </div>

        <div id="resultsScreen" class="results-container">
            <div class="main-result" id="mainResult"></div>
            <div id="booksGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 3rem;"></div>
            <center><button onclick="location.reload()" class="answer-btn" style="margin-top: 5rem; max-width: 400px; background: var(--accent)">ðŸ”„ REINICIAR AVENTURA</button></center>
        </div>
    </div>

    <script>
        const userLang = navigator.language.startsWith('es') ? 'es' : 'en';
        
        const storySkinData = {
            fantasy: {
                name: { es: "FantasÃ­a", en: "Fantasy" },
                character: "https://taniadeazevedo.es/wp-content/uploads/2026/02/1f494qll-removebg-preview.png",
                curiosity: { es: "Â¿SabÃ­as que 'mago' viene de una casta sacerdotal persa real?", en: "Did you know 'Mage' comes from an actual Persian priest caste?" },
                query: "fantasy epic adventure",
                questions: [
                    { q: { es: "Â¿Gesta rÃ¡pida o saga de 10 tomos?", en: "Quick fling or 10-book marriage?" }, a: { es: "Libro Ãºnico", en: "Standalone" }, b: { es: "Saga Ã©pica", en: "Epic Saga" } },
                    { q: { es: "Â¿Magia de purpurina o rituales de sangre?", en: "Glitter magic or blood rituals?" }, a: { es: "Polvos de hada", en: "Fairy dust" }, b: { es: "Oscuridad", en: "Darkness" } },
                    { q: { es: "Â¿Dragones clÃ¡sicos o monstruos raros?", en: "Classic dragons or weird monsters?" }, a: { es: "ClÃ¡sico", en: "Classic" }, b: { es: "Original", en: "Original" } },
                    { q: { es: "Â¿Castillos o elfos en Instagram?", en: "Castles or elves on Instagram?" }, a: { es: "Medieval", en: "Medieval" }, b: { es: "Moderna", en: "Urban" } },
                    { q: { es: "Â¿Final feliz o que mueran hasta los extras?", en: "Happy ending or everyone dies?" }, a: { es: "Final feliz", en: "Happy" }, b: { es: "Tragedia", en: "Tragedy" } },
                    { q: { es: "Â¿HÃ©roe de manual o antihÃ©roe cabreado?", en: "Perfect hero or angry anti-hero?" }, a: { es: "HÃ©roe", en: "Hero" }, b: { es: "AntihÃ©roe", en: "Antihero" } },
                    { q: { es: "Â¿Magia simple o fÃ­sica cuÃ¡ntica con varita?", en: "Simple magic or quantum wands?" }, a: { es: "Sencillo", en: "Simple" }, b: { es: "Complejo", en: "Complex" } },
                    { q: { es: "Â¿Salvar el mundo o robar el tesoro?", en: "Save the world or steal the gold?" }, a: { es: "HÃ©roe", en: "Hero" }, b: { es: "LadrÃ³n", en: "Thief" } },
                    { q: { es: "Â¿PolÃ­tica de palacio o espadazos?", en: "Palace politics or swordfights?" }, a: { es: "Intriga", en: "Intrigue" }, b: { es: "AcciÃ³n", en: "Action" } },
                    { q: { es: "Â¿Lealtad o puÃ±alada por la espalda?", en: "Loyalty or backstabbing?" }, a: { es: "Amistad", en: "Friendship" }, b: { es: "TraiciÃ³n", en: "Betrayal" } }
                ]
            },
            thriller: {
                name: { es: "Thriller", en: "Thriller" },
                character: "https://taniadeazevedo.es/wp-content/uploads/2026/02/d7nt4mr2-removebg-preview.png",
                curiosity: { es: "El tÃ©rmino 'Cliffhanger' naciÃ³ con las novelas del s.XIX.", en: "The term 'Cliffhanger' was born with 19th-century novels." },
                query: "thriller murder mystery",
                questions: [
                    { q: { es: "Â¿Asesinato elegante o carnicerÃ­a?", en: "Elegant murder or total carnage?" }, a: { es: "Elegante", en: "Elegant" }, b: { es: "Sangriento", en: "Bloody" } },
                    { q: { es: "Â¿Ritmo lento o persecuciÃ³n a 200km/h?", en: "Slow burn or 200km/h chase?" }, a: { es: "Pausado", en: "Slow" }, b: { es: "FrenÃ©tico", en: "Frantic" } },
                    { q: { es: "Â¿Poli bueno o mente del psicÃ³pata?", en: "Good cop or psycho's mind?" }, a: { es: "Detective", en: "Detective" }, b: { es: "Criminal", en: "Criminal" } },
                    { q: { es: "Â¿ADN real o conspiraciÃ³n global?", en: "Real DNA or global conspiracy?" }, a: { es: "Forense", en: "Forensic" }, b: { es: "Misterio", en: "Mystery" } },
                    { q: { es: "Â¿Pueblo mudo o ciudad corrupta?", en: "Quiet town or corrupt city?" }, a: { es: "Pueblo", en: "Town" }, b: { es: "Ciudad", en: "City" } },
                    { q: { es: "Â¿Pistas claras o giro que te deja loco?", en: "Clear clues or crazy twist?" }, a: { es: "DeducciÃ³n", en: "Deduction" }, b: { es: "Giro total", en: "Twist" } },
                    { q: { es: "Â¿Miedo mental o acciÃ³n pura?", en: "Mental fear or pure action?" }, a: { es: "Cerebral", en: "Cerebral" }, b: { es: "AcciÃ³n", en: "Action" } },
                    { q: { es: "Â¿LÃ³gica o toque paranormal?", en: "Logic or paranormal touch?" }, a: { es: "Realista", en: "Realistic" }, b: { es: "Paranormal", en: "Paranormal" } },
                    { q: { es: "Â¿Detective genio o civil en problemas?", en: "Genius detective or civilian in trouble?" }, a: { es: "Genio", en: "Genius" }, b: { es: "Civil", en: "Civilian" } },
                    { q: { es: "Â¿Justicia o el malo gana?", en: "Justice or does the bad guy win?" }, a: { es: "Justicia", en: "Justice" }, b: { es: "Maldad", en: "Evil" } }
                ]
            },
            scifi: {
                name: { es: "Sci-Fi", en: "Sci-Fi" },
                character: "https://taniadeazevedo.es/wp-content/uploads/2026/02/pngtree-d-render-of-a-female-game-character-set-in-cyberpunk-universe-png-image_16355028-removebg-preview.png",
                curiosity: { es: "Frankenstein es la primera obra de Sci-Fi.", en: "Frankenstein is the first Sci-Fi work." },
                query: "science fiction cyberpunk",
                questions: [
                    { q: { es: "Â¿Estamos solos o somos un error?", en: "Are we alone or are we a mistake?" }, a: { es: "Solos", en: "Alone" }, b: { es: "Aliens", en: "Aliens" } },
                    { q: { es: "Â¿Naves brillantes o ciudad neÃ³n?", en: "Shiny ships or neon city?" }, a: { es: "Espacio", en: "Space" }, b: { es: "Cyberpunk", en: "Cyberpunk" } },
                    { q: { es: "Â¿IA amiga o Skynet?", en: "AI friend or Skynet?" }, a: { es: "IA maja", en: "Nice AI" }, b: { es: "Skynet", en: "Skynet" } },
                    { q: { es: "Â¿AcciÃ³n o fÃ­sica cuÃ¡ntica?", en: "Action or quantum physics?" }, a: { es: "Ligera", en: "Light" }, b: { es: "Hard Sci-Fi", en: "Hard Sci-Fi" } },
                    { q: { es: "Â¿UtopÃ­a o comida sospechosa?", en: "Utopia or suspicious food?" }, a: { es: "Luz", en: "Light" }, b: { es: "Oscuro", en: "Dark" } },
                    { q: { es: "Â¿Viajes al pasado o fin del universo?", en: "Time travel or end of the universe?" }, a: { es: "Pasado", en: "Past" }, b: { es: "Futuro", en: "Future" } },
                    { q: { es: "Â¿FantasÃ­a o realismo duro?", en: "Fantasy or hard realism?" }, a: { es: "FantasÃ­a", en: "Fantasy" }, b: { es: "Realismo", en: "Realism" } },
                    { q: { es: "Â¿Explorar planetas o estaciÃ³n enana?", en: "Explore planets or tiny station?" }, a: { es: "Viaje", en: "Travel" }, b: { es: "Claustrofobia", en: "Claustrophobia" } },
                    { q: { es: "Â¿Ciber-implantes o bio-naturaleza?", en: "Cyber-implants or bio-nature?" }, a: { es: "Tech", en: "Tech" }, b: { es: "Bio", en: "Bio" } },
                    { q: { es: "Â¿Final feliz o vacÃ­o existencial?", en: "Happy ending or existential void?" }, a: { es: "Moraleja", en: "Moral" }, b: { es: "VacÃ­o", en: "Void" } }
                ]
            },
            horror: {
                name: { es: "Terror", en: "Horror" },
                character: "https://taniadeazevedo.es/wp-content/uploads/2026/02/ztyecjla-removebg-preview.png",
                curiosity: { es: "El miedo al 13 es triscadecafobia.", en: "Fear of 13 is triskaidekaphobia." },
                query: "horror supernatural terror",
                questions: [
                    { q: { es: "Â¿Dormir o infarto en el armario?", en: "Sleep or heart attack in the closet?" }, a: { es: "Dormir", en: "Sleep" }, b: { es: "Pesadillas", en: "Nightmares" } },
                    { q: { es: "Â¿Fantasmas o humanos peores que SatÃ¡n?", en: "Ghosts or humans worse than Satan?" }, a: { es: "Fantasmas", en: "Ghosts" }, b: { es: "Humanos", en: "Humans" } },
                    { q: { es: "Â¿Casa encantada o bosque prohibido?", en: "Haunted house or forbidden forest?" }, a: { es: "Casa", en: "House" }, b: { es: "Bosque", en: "Forest" } },
                    { q: { es: "Â¿Sangre o miedo psicolÃ³gico?", en: "Blood or psychological fear?" }, a: { es: "Gore", en: "Gore" }, b: { es: "Miedo", en: "Fear" } },
                    { q: { es: "Â¿Sustos o tensiÃ³n lenta?", en: "Jump scares or slow tension?" }, a: { es: "Sustos", en: "Jumps" }, b: { es: "TensiÃ³n", en: "Tension" } },
                    { q: { es: "Â¿Sobrevivir o morir fatal?", en: "Survive or die horribly?" }, a: { es: "HÃ©roe", en: "Hero" }, b: { es: "VÃ­ctima", en: "Victim" } },
                    { q: { es: "Â¿Terror Ã­ntimo o apocalipsis zombi?", en: "Intimate terror or zombie apocalypse?" }, a: { es: "Ãntimo", en: "Intimate" }, b: { es: "Masa", en: "Massive" } },
                    { q: { es: "Â¿Payasos o Black Mirror?", en: "Clowns or Black Mirror?" }, a: { es: "ClÃ¡sico", en: "Classic" }, b: { es: "Moderno", en: "Modern" } },
                    { q: { es: "Â¿Saber pelear o correr fatal?", en: "Know how to fight or run terribly?" }, a: { es: "Luchador", en: "Fighter" }, b: { es: "VÃ­ctima", en: "Victim" } },
                    { q: { es: "Â¿MirarÃ¡s bajo la cama?", en: "Will you look under the bed?" }, a: { es: "No", en: "No" }, b: { es: "SÃ­", en: "Yes" } }
                ]
            },
            comingOfAge: {
                name: { es: "Juvenil", en: "Young Adult" },
                character: "https://taniadeazevedo.es/wp-content/uploads/2026/02/pa646132-removebg-preview.png",
                curiosity: { es: "Coming of Age es el trÃ¡nsito a la madurez.", en: "Coming of Age is the transition to maturity." },
                query: "coming of age young adult",
                questions: [
                    { q: { es: "Â¿Instituto o universidad?", en: "High school or university?" }, a: { es: "Instituto", en: "High School" }, b: { es: "Uni", en: "University" } },
                    { q: { es: "Â¿Nostalgia o caos total?", en: "Nostalgia or total chaos?" }, a: { es: "Dulce", en: "Sweet" }, b: { es: "Caos", en: "Chaos" } },
                    { q: { es: "Â¿Amigos o solo ante el mundo?", en: "Friends or alone vs world?" }, a: { es: "Amigos", en: "Friends" }, b: { es: "Solo", en: "Solitary" } },
                    { q: { es: "Â¿Primer amor o desengaÃ±o?", en: "First love or heartbreak?" }, a: { es: "Amor", en: "Love" }, b: { es: "Dolor", en: "Heartbreak" } },
                    { q: { es: "Â¿Hogar o huida?", en: "Home or escape?" }, a: { es: "Hogar", en: "Home" }, b: { es: "Huida", en: "Escape" } },
                    { q: { es: "Â¿Rebelde o poeta?", en: "Rebel or poet?" }, a: { es: "Rebelde", en: "Rebel" }, b: { es: "Poeta", en: "Poet" } },
                    { q: { es: "Â¿Identidad o encajar?", en: "Identity or fitting in?" }, a: { es: "Yo mismo", en: "Myself" }, b: { es: "Encajar", en: "Fit" } },
                    { q: { es: "Â¿Barrio o ciudad gigante?", en: "Neighborhood or giant city?" }, a: { es: "Cerca", en: "Close" }, b: { es: "Lejos", en: "Far" } },
                    { q: { es: "Â¿Crecer o Peter Pan?", en: "Grow up or Peter Pan?" }, a: { es: "Madurez", en: "Maturity" }, b: { es: "Peter Pan", en: "Peter Pan" } },
                    { q: { es: "Â¿Esperanza o adiÃ³s?", en: "Hope or goodbye?" }, a: { es: "Esperanza", en: "Hope" }, b: { es: "AdiÃ³s", en: "Goodbye" } }
                ]
            },
            contemporary: {
                name: { es: "Actual", en: "Modern" },
                character: "https://taniadeazevedo.es/wp-content/uploads/2026/02/9e7625v9-removebg-preview.png",
                curiosity: { es: "Refleja el 'aquÃ­ y ahora'.", en: "Reflects the 'here and now'." },
                query: "contemporary fiction realism",
                questions: [
                    { q: { es: "Â¿Lunes normal o superaciÃ³n?", en: "Normal Monday or overcoming?" }, a: { es: "Normal", en: "Normal" }, b: { es: "Ã‰pico", en: "Epic" } },
                    { q: { es: "Â¿Humor o drama?", en: "Humor or drama?" }, a: { es: "Risas", en: "Laughs" }, b: { es: "Serio", en: "Serious" } },
                    { q: { es: "Â¿Ciudad o campo?", en: "City or country?" }, a: { es: "Ciudad", en: "City" }, b: { es: "Campo", en: "Country" } },
                    { q: { es: "Â¿Familia o trabajo?", en: "Family or work?" }, a: { es: "Familia", en: "Family" }, b: { es: "Trabajo", en: "Work" } },
                    { q: { es: "Â¿Amor o vida diaria?", en: "Love or daily life?" }, a: { es: "Amor", en: "Love" }, b: { es: "Vida", en: "Life" } },
                    { q: { es: "Â¿Rutina o cambio radical?", en: "Routine or radical change?" }, a: { es: "Rutina", en: "Routine" }, b: { es: "Cambio", en: "Change" } },
                    { q: { es: "Â¿Crudo o feliz?", en: "Raw or happy?" }, a: { es: "Crudo", en: "Raw" }, b: { es: "Feliz", en: "Happy" } },
                    { q: { es: "Â¿Temas sociales o personales?", en: "Social or personal issues?" }, a: { es: "Social", en: "Social" }, b: { es: "Personal", en: "Personal" } },
                    { q: { es: "Â¿Ã‰xito o invisible?", en: "Success or invisible?" }, a: { es: "Ã‰xito", en: "Success" }, b: { es: "Invisible", en: "Invisible" } },
                    { q: { es: "Â¿Abierto o cerrado?", en: "Open or closed?" }, a: { es: "Abierto", en: "Open" }, b: { es: "Cerrado", en: "Closed" } }
                ]
            },
            historical: {
                name: { es: "HistÃ³rica", en: "Historical" },
                character: "https://taniadeazevedo.es/wp-content/uploads/2026/02/lkl3ol1e-removebg-preview.png",
                curiosity: { es: "Walter Scott es el padre del gÃ©nero.", en: "Walter Scott is the father of the genre." },
                query: "historical fiction period",
                questions: [
                    { q: { es: "Â¿TÃ© o trincheras?", en: "Tea or trenches?" }, a: { es: "TÃ©", en: "Tea" }, b: { es: "Guerra", en: "War" } },
                    { q: { es: "Â¿Clase de historia o aventura?", en: "History class or adventure?" }, a: { es: "Cerebro", en: "Brain" }, b: { es: "AcciÃ³n", en: "Action" } },
                    { q: { es: "Â¿Espadas o secretos?", en: "Swords or secrets?" }, a: { es: "Espadas", en: "Swords" }, b: { es: "Secretos", en: "Secrets" } },
                    { q: { es: "Â¿Personajes reales o ficticios?", en: "Real or fictional characters?" }, a: { es: "Reales", en: "Real" }, b: { es: "Ficticios", en: "Fictional" } },
                    { q: { es: "Â¿Clase social o patria?", en: "Social class or homeland?" }, a: { es: "Clase", en: "Class" }, b: { es: "Patria", en: "Homeland" } },
                    { q: { es: "Â¿Lujo u oeste?", en: "Luxury or Wild West?" }, a: { es: "Lujo", en: "Luxury" }, b: { es: "Oeste", en: "West" } },
                    { q: { es: "Â¿Fiel o novela?", en: "Faithful or novel?" }, a: { es: "Fiel", en: "Faithful" }, b: { es: "Novela", en: "Novel" } },
                    { q: { es: "Â¿Secreto o vida diaria?", en: "Secret or daily life?" }, a: { es: "Secreto", en: "Secret" }, b: { es: "Vida", en: "Life" } },
                    { q: { es: "Â¿Arte o poder?", en: "Art or power?" }, a: { es: "Arte", en: "Art" }, b: { es: "Poder", en: "Power" } },
                    { q: { es: "Â¿Pasado puro o conexiÃ³n?", en: "Pure past or connection?" }, a: { es: "Pasado", en: "Past" }, b: { es: "Actual", en: "Modern" } }
                ]
            },
            erotica: {
                name: { es: "ErÃ³tica", en: "Erotica" },
                character: "https://taniadeazevedo.es/wp-content/uploads/2026/02/ehznlag1-removebg-preview.png",
                curiosity: { es: "Es el motor econÃ³mico editorial.", en: "It's the editorial economic driver." },
                query: "romance erotic passion",
                questions: [
                    { q: { es: "Â¿TensiÃ³n o fuego total?", en: "Tension or total fire?" }, a: { es: "TensiÃ³n", en: "Tension" }, b: { es: "Fuego", en: "Fire" } },
                    { q: { es: "Â¿Enemigos o cama forzada?", en: "Enemies or forced bed?" }, a: { es: "Enemigos", en: "Enemies" }, b: { es: "Cama", en: "Bed" } },
                    { q: { es: "Â¿Amor o pulsiÃ³n?", en: "Love or lust?" }, a: { es: "Amor", en: "Love" }, b: { es: "Deseo", en: "Lust" } },
                    { q: { es: "Â¿Risas o peligro?", en: "Laughs or danger?" }, a: { es: "Comedia", en: "Comedy" }, b: { es: "Oscuro", en: "Dark" } },
                    { q: { es: "Â¿Oficina o fantasÃ­a?", en: "Office or fantasy?" }, a: { es: "Oficina", en: "Office" }, b: { es: "Magia", en: "Magic" } },
                    { q: { es: "Â¿Malentendido o secreto?", en: "Misunderstanding or secret?" }, a: { es: "Absurdo", en: "Absurd" }, b: { es: "Secreto", en: "Secret" } },
                    { q: { es: "Â¿Final feliz o crudo?", en: "Happy or raw ending?" }, a: { es: "Feliz", en: "Happy" }, b: { es: "Crudo", en: "Raw" } },
                    { q: { es: "Â¿Poder o igualdad?", en: "Power or equality?" }, a: { es: "Poder", en: "Power" }, b: { es: "Igualdad", en: "Equality" } },
                    { q: { es: "Â¿Lujo o vecino?", en: "Luxury or neighbor?" }, a: { es: "Rico", en: "Rich" }, b: { es: "Normal", en: "Normal" } },
                    { q: { es: "Â¿Dulce o incendio?", en: "Sweet or wildfire?" }, a: { es: "Dulce", en: "Sweet" }, b: { es: "Incendio", en: "Fire" } }
                ]
            }
        };

        let currentGenre = null;
        let currentQuestion = 0;

        function init() { renderGenreGrid(); }

        function renderGenreGrid() {
            const grid = document.getElementById('genreScreen');
            grid.innerHTML = '';
            for (const [key, genre] of Object.entries(storySkinData)) {
                const card = document.createElement('div');
                card.className = 'genre-card';
                card.onclick = () => startQuiz(key);
                card.innerHTML = `
                    <div class="curiosity-bubble">${genre.curiosity[userLang]}</div>
                    <img src="${genre.character}" alt="${genre.name[userLang]}" class="character-img">
                    <div class="genre-name">${genre.name[userLang]}</div>
                `;
                grid.appendChild(card);
            }
        }

        function startQuiz(genreKey) {
            currentGenre = genreKey;
            currentQuestion = 0;
            document.getElementById('genreScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            renderQuestion();
        }

        function renderQuestion() {
            const genre = storySkinData[currentGenre];
            const question = genre.questions[currentQuestion];
            document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / 10) * 100}%`;
            document.getElementById('questionText').textContent = question.q[userLang];
            const container = document.getElementById('answersContainer');
            container.innerHTML = `
                <button class="answer-btn" onclick="nextQuestion()">${question.a[userLang]}</button>
                <button class="answer-btn" onclick="nextQuestion()">${question.b[userLang]}</button>
            `;
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < 10) renderQuestion();
            else showResults();
        }

        async function showResults() {
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultsScreen').style.display = 'block';
            const genre = storySkinData[currentGenre];
            try {
                const res = await fetch(`https://www.googleapis.com/books/v1/volumes?q=subject:${genre.query}&maxResults=5&langRestrict=${userLang}`);
                const data = await res.json();
                renderBooks(data.items);
            } catch (e) {
                document.getElementById('mainResult').innerHTML = "<p>Error al cargar libros. Prueba de nuevo.</p>";
            }
        }

        function renderBooks(books) {
            const main = books[0].volumeInfo;
            document.getElementById('mainResult').innerHTML = `
                <div style="flex:0 0 240px; text-align:center"><img src="${storySkinData[currentGenre].character}" style="width:220px"></div>
                <div style="flex:1">
                    <img src="${main.imageLinks?.thumbnail}" class="book-cover">
                    <h2 style="font-size:2.5rem; margin-bottom:1rem">${main.title}</h2>
                    <p style="color:#aaa; font-weight:600">${main.authors?.join(', ')}</p>
                    <p style="margin:2rem 0; font-size:1.1rem; line-height:1.6">${main.description?.substring(0, 300)}...</p>
                    <a href="https://www.amazon.es/s?k=${encodeURIComponent(main.title)}&tag=storyskin-21" target="_blank" class="amazon-btn">ðŸ”¥ COMPRAR AHORA</a>
                </div>
            `;
            const grid = document.getElementById('booksGrid');
            grid.innerHTML = '';
            books.slice(1).forEach(b => {
                const info = b.volumeInfo;
                grid.innerHTML += `
                    <div style="background:var(--glass); padding:2rem; border-radius:30px; text-align:center">
                        <img src="${info.imageLinks?.thumbnail}" style="width:120px; border-radius:8px; margin-bottom:1.5rem">
                        <h4 style="font-size:1rem; margin-bottom:1rem">${info.title}</h4>
                        <a href="https://www.amazon.es/s?k=${encodeURIComponent(info.title)}&tag=storyskin-21" target="_blank" style="color:var(--accent); text-decoration:none; font-weight:700">VER EN AMAZON</a>
                    </div>
                `;
            });
        }
        init();
    </script>
</body>
</html>
